!function(){var t;return t=this,this.barcodelib={BarCodeDrawer:function(){function e(e){this.canvas=null!=e.createCanvas?e.createCanvas():t.document.createElement("canvas"),this.default_params=e}return e.prototype.prepare=function(){return this.white=null!=this.default_params.background?this.default_params.background:null!=this.white?this.white:"#ffffff",this.black=null!=this.default_params.foreground?this.default_params.foreground:null!=this.black?this.black:"#000000",this.color="#ff00ff"},e.prototype.clear=function(t,e,r){return this.canvas.width=t,this.canvas.height=e,this.context=this.canvas.getContext("2d"),this.context.fillStyle=null!=this.default_params.color&&this.default_params.color?this.color:this.white,this.context.fillRect(0,0,t,e),this.height=r,this.position=0},e.prototype.draw_bar=function(t){var e,r;return null!=t.none&&t.none||(this.context.fillStyle="white"===t.color?this.white:"black"===t.color?this.black:this.color,r=5,0===t.height?e=this.height-r*(1-t.height):1===t.height?e=this.height:2===t.height&&(r=5+this.height/2,e=this.height-r),this.context.fillRect(this.position,r,t.width,e)),null!=t.number&&(this.context.font="bold 10px Trebuchet MS, sans-serif",this.context.fillStyle=this.black,this.context.textAlign="center",this.context.textBaseline="middle",null!=this.context.fillText&&this.context.fillText(t.number,this.position+4,this.height+6)),this.position=this.position+t.width},e}(),create_canvas:function(t){var e,r,i,n,o,a,h,c,d,s,l,u,A,w,b,f,C,_,g,B,p,D,v,N,R,k,x;if("string"==typeof t)_={code:t};else{_={};for(C in t)B=t[C],_[C]=B}if("canvas"in _?i=_.canvas.drawer:(i=new this.BarCodeDrawer(_),i.prepare()),r={w:[3,2,2,1,1,1,1,1,1,3],x:[2,2,1,4,1,2,1,3,2,1],y:[1,2,2,1,3,3,1,1,1,1],z:[1,1,2,1,2,1,4,2,3,2]},u=["A","A","A","A","C","C","C","C"],l=[["A","A","A","A","A","A","A","A","A","A"],["A","A","A","A","B","B","B","B","B","B"],["A","B","B","B","A","B","B","A","A","B"],["A","A","B","B","A","A","B","B","B","A"],["A","B","A","B","B","A","A","A","B","B"],["A","B","B","A","B","B","A","B","A","A"],["C","C","C","C","C","C","C","C","C","C"],["C","C","C","C","C","C","C","C","C","C"],["C","C","C","C","C","C","C","C","C","C"],["C","C","C","C","C","C","C","C","C","C"],["C","C","C","C","C","C","C","C","C","C"],["C","C","C","C","C","C","C","C","C","C"]],d=[["A","A","B","B"],["A","B","A","B"]],s=[["B","B","B","B","A","A","A","A","A","A"],["B","A","A","A","B","A","A","B","B","A"],["A","B","A","A","B","B","A","A","A","B"],["A","A","B","A","A","B","B","B","A","A"],["A","A","A","B","A","A","B","A","B","B"]],c={A:function(){return function(t,e){return void 0===e&&(e=0),i.draw_bar({width:r.w[t],color:"white",height:e,number:t}),i.draw_bar({width:r.x[t],color:"black",height:e}),i.draw_bar({width:r.y[t],color:"white",height:e}),i.draw_bar({width:r.z[t],color:"black",height:e})}}(this),B:function(){return function(t,e){return void 0===e&&(e=0),i.draw_bar({width:r.z[t],color:"white",height:e,number:t}),i.draw_bar({width:r.y[t],color:"black",height:e}),i.draw_bar({width:r.x[t],color:"white",height:e}),i.draw_bar({width:r.w[t],color:"black",height:e})}}(this),C:function(){return function(t,e){return void 0===e&&(e=0),i.draw_bar({width:r.w[t],color:"black",height:e,number:t}),i.draw_bar({width:r.x[t],color:"white",height:e}),i.draw_bar({width:r.y[t],color:"black",height:e}),i.draw_bar({width:r.z[t],color:"white",height:e})}}(this),NORMAL_GUARD:function(){return function(){return i.draw_bar({width:1,color:"black",height:1}),i.draw_bar({width:1,color:"white",height:1}),i.draw_bar({width:1,color:"black",height:1})}}(this),CENTER_GUARD:function(){return function(){return i.draw_bar({width:1,color:"white",height:1}),i.draw_bar({width:1,color:"black",height:1}),i.draw_bar({width:1,color:"white",height:1}),i.draw_bar({width:1,color:"black",height:1}),i.draw_bar({width:1,color:"white",height:1})}}(this),EAN_18_SEP:function(){return function(){return i.draw_bar({width:7,color:"white",height:1})}}(this),ADDON_GUARD:function(){return function(){return i.draw_bar({width:1,color:"black",height:2}),i.draw_bar({width:1,color:"white",height:2}),i.draw_bar({width:2,color:"black",height:2})}}(this),ADDON_DELINEATOR:function(){return function(){return i.draw_bar({width:1,color:"white",height:2}),i.draw_bar({width:1,color:"black",height:2})}}(this),NONE:function(){return function(t){return i.draw_bar({width:7,none:!0,number:t})}}(this)},null==_.type&&(_.type="ean"),g=_.type,"ean"===g&&_.code.length<=8&&(g="ean8"),"ean"===g&&_.code.length<=13&&(g="ean13"),"ean"===g&&_.code.length<=15&&(g="ean15"),"ean"===g&&(g="ean18"),"ean8"===g&&(_.code="00000000".substr(0,8-_.code.length)+_.code),"ean13"===g&&(_.code="0000000000000".substr(0,13-_.code.length)+_.code),"ean15"===g&&(_.code="000000000000000".substr(0,15-_.code.length)+_.code),"ean18"===g&&(_.code="000000000000000000".substr(0,18-_.code.length)+_.code),"ean8"===g&&_.code.length>8&&(_.code=_.code.substr(0,8)),"ean13"===g&&_.code.length>13&&(_.code=_.code.substr(0,13)),"ean15"===g&&_.code.length>15&&(_.code=_.code.substr(0,15)),"ean18"===g&&_.code.length>18&&(_.code=_.code.substr(0,18)),("ean13"===g||"ean15"===g||"ean18"===g)&&_.replacekey){for(C=0,f=p=0;11>=p;f=++p)C+=parseInt(_.code.substr(f,1))*(1+2*(f%2));C=(10-C%10)%10,_.code=_.code.substr(0,12)+C+_.code.substr(13)}if(h=_.code.length,A=8*(h>13?13:h),b=7*h+3*(h>13)*(h-13+1)+25,w=A+13,this.width=b,this.height=w,i.clear(this.width,this.height,A),i.position=7,"ean8"===g){for(c.NORMAL_GUARD(),f=D=0,x=_.code.length-1;x>=0?x>=D:D>=x;f=x>=0?++D:--D)a=parseInt(_.code.substr(f,1)),c[u[f]](a),3===f&&c.CENTER_GUARD();c.NORMAL_GUARD()}else{for(n=parseInt(_.code.substr(0,1)),c.NONE(n),c.NORMAL_GUARD(),f=v=1;12>=v;f=++v)a=parseInt(_.code.substr(f,1)),c[l[f-1][n]](a),6===f&&c.CENTER_GUARD();if(c.NORMAL_GUARD(),"ean15"===g)for(e=parseInt(_.code.substr(13,2)),e%=4,c.EAN_18_SEP(),f=N=0;1>=N;f=++N)0===f?c.ADDON_GUARD():c.ADDON_DELINEATOR(),a=parseInt(_.code.substr(f+13,1)),c[d[f][e]](a,2);if("ean18"===g){for(e=0,f=R=0;4>=R;f=++R)e+=3*parseInt(_.code.substr(13+f,1))*(1+2*(f%2));for(e%=10,c.EAN_18_SEP(),f=k=0;4>=k;f=++k)0===f?c.ADDON_GUARD():c.ADDON_DELINEATOR(),a=parseInt(_.code.substr(f+13,1)),c[s[f][e]](a,2)}}return o=i.canvas,o.drawer=i,o.title=_.code,o.draw_barcode=function(t){return function(e){var r;r={},r.canvas=o;for(C in e)B=e[C],C in r||(r[C]=B);for(C in _)B=_[C],C in r||(r[C]=B);return t.create_canvas(r)}}(this),o},draw_barcodes:function(t,e){var r,i,n,o,a,h,c,d;null==e&&(e={}),o="target"in e?t(e.target).find(".barcode"):t(".barcode");for(c=0,d=o.length;d>c;c++){i=o[c],r=t(i),n={};for(a in e)h=e[a],n[a]=h;void 0===i.draw_barcode&&(i.draw_barcode=function(t){return function(e){var i,o,c;o={},null==e&&(e={});for(a in e)h=e[a],a in o||(o[a]=h);for(a in n)h=n[a],a in o||(o[a]=h);return"code"in o||(o.code=r.attr("barcode")),null!=r[0].canvas?r[0].canvas.draw_barcode(o):(r.html(""),c=r.attr("type"),"type"in o||null==c&&(o.type=c),i=t.create_canvas(o),r.append(i),r[0].canvas=i)}}(this)),i.draw_barcode(n)}}}}();
/*
//@ sourceMappingURL=barcodelib.js.map
*/
